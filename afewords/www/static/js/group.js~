$(document).ready(function(){

jQuery.com_afewords_www_group = $.com_afewords_www_group || {};
$AFW_Group = $.com_afewords_www_page;



$AFW_Group.group_create = function(obj){
    /** create group ajax **/
    var mes = $("#feed-lib").DivToDict();
    var $button = $(obj);
    var process = $button.siblings("span");
    if(mes['name']==''){
        process.html('请您填写小组名！').css('color','red');
        return false;
    }
    if(mes['class']==''){
        process.html('请您填写小组分类！').css('color','red');
        return false;
    }
    if(mes['keywords'] == ''){
        process.html('请您填写小组关键词！').css('color', 'red');
        return false;
    }
    if(mes['reason'] == '')
    {
        process.html('请您填写小组申请语！').css('color', 'red');
        return false;
    }
    if(mes['description']==''){
        process.html('请您简单描述一下小组！').css('color','red');
        return false;
    }

    /*********** data ok, send it ******************/
    $.postJSON('/group-create', mes, 
    function(){
        process.html('<img src="/static/img/ajax.gif" />');
        $button.attr("disabled",'disabled').css('color','#ccc');
    },
    function(response){
        if(response.kind==0){
            alert('ok');
            setTimeout('location.href="/group-set-logo"', 1000);
        }else{
            process.html(response.info).css('color', "#ccc");
            $button.removeAttr("disabled").css("color", "#ccc");
        }
    },
    function(response){
            process.html('提交数据出错！').css('color', "#ccc");
            $button.removeAttr("disabled").css("color", "#ccc");
    });
}



group_logo_handler = function(){
    
}





});